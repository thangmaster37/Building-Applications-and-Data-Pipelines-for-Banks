<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Create account Moduck Bank</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link rel="icon" href="images/favicon.ico" type="image/ico" />

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>


    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
      integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
      crossorigin="anonymous"
    />
  </head>
  <body style="background-color: #e9ecef;">
    <div class="jumbotron jumbotron-fluid">
      <div class="container">
        <div class="row">
          <div
            class="col-12 col-sm-8 col-md-6 col-lg-4 offset-sm-2 offset-md-3 offset-lg-4"
          >
            <h1 class="mb-3 text-center">Create account</h1>
            <!-- <p class="lead">
              It's free and you don't have to share your address.
            </p> -->
            <form class="mb-3">
              <div class="row">
                <div class="form-group col-12 col-sm-4">
                  <label for="firstName">First name:</label>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="First name"
                    id="firstName"
                  />
                </div>
                <div class="form-group col-12 col-sm-4">
                  <label for="lastName">Middle name:</label>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Middle name"
                    id="middleName"
                  />
                </div>
                <div class="form-group col-12 col-sm-4">
                  <label for="lastName">Last name:</label>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Last name"
                    id="lastName"
                  />
                </div>
              </div>
              <div class="form-group">
                <label for="email">Username(PhoneNumber):</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder=""
                  id="username"
                  required
                />
              </div>
              <div class="form-group">
                <label for="password">Password:</label>
                <input
                  type="password"
                  class="form-control"
                  id="password"
                  required
                />
              </div>

              <label>Bank Type:</label>
              <div class="form-group">
                <select class="form-control" id="banktype">
                  <option value="">None</option>
                  <option value="MBBank">NHTMCP Quân đội (MB)</option>
                  <option value="VPBank">NHTMCP VN Thịnh Vượng (VP Bank)</option>
                  <option value="TechcomBank">NHTMCP Kỹ thương VN (Techcombank)</option>
                  <option value="VietcomBank">Ngân hàng Ngoại thương Việt Nam (Vietcombank)</option>
                  <option value="BIDV">Ngân hàng Đầu tư và Phát triển VN (BIDV)</option>
                  <option value="VietinBank">Ngân hàng Công thương VN (Vietinbank)</option>
                  <option value="AgriBank">Ngân hàng Nông nghiệp và Phát triển Nông thôn VN (Agribank)</option>
                  <option value="VIB">NHTMCP Quốc tế (VIB)</option>
                  <option value="ACB">NHTMCP Á châu (ACB)</option>
                  <option value="SHB">NHTMCP Sài gòn - Hà nội (SHB)</option>
                  <option value="SaigonBank">NHTMCP SG Công Thương (SaigonBank)</option>
                  <option value="SCB">NHTMCP Sài Gòn (SCB)</option>
                  <option value="OCB">NHTMCP Phương Đông (OCB)</option>
                  <option value="SeaBank">NHTMCP Đông Nam Á (Seabank)</option>
                  <option value="OceanBank">NHTMCP Đại Dương (Oceanbank)</option>
                  <option value="GPBank">NHTMCP Dầu khí Toàn cầu (GPBank)</option>
                  <option value="ABBank">NHTMCP An Bình (ABBank)</option>
                  <option value="PGBank">NHTMCP Xăng dầu Petrolimex (PGBank)</option>
                  <option value="HDBank">NHTMCP phát triển TPHCM (HDBank)</option>
                  <option value="EximBank">NHTMCP Xuất Nhập Khẩu (EximBank)</option>
                </select>
              </div>

              <label>Birthday:</label>
              <div class="row no-gutters">
                <div class="form-group col-4">
                  <label for="birthdayDay" class="sr-only">Birthday day</label>
                  <select class="form-control" id="birthdayDay">
                    <option value="">Day</option>
                    <option value="01">01</option>
                    <option value="02">02</option>
                    <option value="03">03</option>
                    <option value="04">04</option>
                    <option value="05">05</option>
                    <option value="06">06</option>
                    <option value="07">07</option>
                    <option value="08">08</option>
                    <option value="09">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                    <option value="24">24</option>
                    <option value="25">25</option>
                    <option value="26">26</option>
                    <option value="27">27</option>
                    <option value="28">28</option>
                    <option value="29">29</option>
                    <option value="30">30</option>
                    <option value="31">31</option>
                  </select>
                </div>
                <div class="form-group col-4">
                  <label for="birthdayMonth" class="sr-only"
                    >Birthday month</label
                  >
                  <select class="form-control" id="birthdayMonth">
                    <option value="">Month</option>
                    <option value="01">01</option>
                    <option value="02">02</option>
                    <option value="03">03</option>
                    <option value="04">04</option>
                    <option value="05">05</option>
                    <option value="06">06</option>
                    <option value="07">07</option>
                    <option value="08">08</option>
                    <option value="09">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                  </select>
                </div>
                <div class="form-group col-4">
                  <label for="birthdayYear" class="sr-only"
                    >Birthday year</label
                  >
                  <select class="form-control" id="birthdayYear">
                    <option value="">Year</option>
                    <option value="1980">1980</option>
                    <option value="1981">1981</option>
                    <option value="1982">1982</option>
                    <option value="1983">1983</option>
                    <option value="1984">1984</option>
                    <option value="1985">1985</option>
                    <option value="1986">1986</option>
                    <option value="1987">1987</option>
                    <option value="1988">1988</option>
                    <option value="1989">1989</option>
                    <option value="1990">1990</option>
                    <option value="1991">1991</option>
                    <option value="1992">1992</option>
                    <option value="1993">1993</option>
                    <option value="1994">1994</option>
                    <option value="1995">1995</option>
                    <option value="1996">1996</option>
                    <option value="1997">1997</option>
                    <option value="1998">1998</option>
                    <option value="1999">1999</option>
                    <option value="2000">2000</option>
                    <option value="2001">2001</option>
                    <option value="2002">2002</option>
                    <option value="2003">2003</option>
                    <option value="2004">2004</option>
                    <option value="2005">2005</option>
                    <option value="2006">2006</option>
                    <option value="2007">2007</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label for="gender">Gender:</label>
                <select class="form-control" id="gender">
                  <option value="">Gender</option>
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                </select>
              </div>
              <div class="form-group">
                <label for="address">PlaceOfPermanent:</label>
                <input
                  type="text"
                  class="form-control"
                  id="address"
                  required
                />
              </div>
              <div class="form-group">
                <label for="citizenid">CitizenID:</label>
                <input
                  type="text"
                  class="form-control"
                  id="citizenid"
                  required
                />
              </div>
              
              
            
              <button type="submit" class="btn btn-primary btn-block mb-3" onclick="register(event)">
                Create account
              </button>
              
              <div class="text-center">
                <p>or ...</p>
                <a href="./login.html" class="btn btn-success">Login</a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script>
      function register(event) {
        event.preventDefault();
    
        // Lấy giá trị nhập từ trường username và password
        var firstName = document.getElementById("firstName").value;
        var middleName = document.getElementById("middleName").value;
        var lastName = document.getElementById("lastName").value;

        var username = document.getElementById("username").value;
        var password = document.getElementById("password").value;

        var banktype = document.getElementById("banktype").value;

        var birthdayDay = document.getElementById("birthdayDay").value;
        var birthdayMonth = document.getElementById("birthdayMonth").value;
        var birthdayYear = document.getElementById("birthdayYear").value;

        var gender = document.getElementById("gender").value;

        var address = document.getElementById("address").value;
        var citizenid = document.getElementById("citizenid").value;

        if (firstName !== "" && middleName !== "" && lastName !== "" && username !== ""
            && password !== "" && banktype !== "" && birthdayDay !== "" && birthdayMonth !== ""
            && birthdayYear !== "" && gender !== "" && address !== "" && citizenid !== "") {
              axios.post('http://127.0.0.1:8000/api/register', {
                  username: username,
                  password: password,  
                  firstname: firstName,
                  middlename: middleName,
                  lastname: lastName,
                  banktype: banktype,
                  gender: gender,
                  placeOfPermanent: address,
                  dateOfBirth: birthdayYear + "-" + birthdayMonth + "-" + birthdayDay,
                  citizenID: citizenid
              })
              .then(response => {
                const data = response.data;
                if (data.response == true) {
                  alert("Create account successfully!");
                  location.href = "login.html";
                }
                else {
                  alert("Account exists!");
                }
              })
              .catch(error => {
                console.log('Error:', error);
              });
        }
        else {
          alert("Login information is missing!")
        }
      }
  </script>
    
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"
      integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"
      integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
      crossorigin="anonymous"
    ></script>
  </body>
</html>